News
====

Pyclewn 1.6
-----------

.. February 28, 2011

Bug fixes
^^^^^^^^^

* On gdb abnormal termination, save the project file if exists and forcibly
  terminate the current session.
* Set breakpoint in a template function.
* Give an explicit error message after installation failure, for example when
  the environment var ``EDITOR`` is set to something different than vim or
  empty.

Pyclewn 1.5
-----------

.. November 25, 2010

New feature
^^^^^^^^^^^

* Support of ``pdb``, the python debugger.

  + A python script may be run under the control of ``pdb``. For example the
    current vim buffer may be started and debugged with the vim command
    ``:Pyclewn pdb %:p``
  + One may also attach to a running python process, interrupt the process,
    manage a debugging session and terminate the debugging session by
    detaching from the process. A new debugging session may be conducted later
    on this same process, possibly from another Vim instance.
  + All the ``pdb`` commands are supported except ``list`` and ``commands``.
    This includes alias expansion and executing a python statement in the
    context of the current frame. The new command ``threadstack`` prints the
    instantaneous backtrace of all the threads, including those that are stuck
    in a deadlock.

* Pdb is currently supported on unix platforms and requires the latest Vim
  version: Vim 7.3. Python3 is not supported yet.

Change
^^^^^^

* Logs are written to stderr when the ``--level`` option is set and the
  ``--file`` option is not set.

Pyclewn 1.4
-----------

.. September 26, 2010

New features
^^^^^^^^^^^^

* The new ``Ccwindow`` command opens a vim quickfix window holding the list of
  the breakpoints with their current state. The quickfix window allows moving
  directly to any breakpoint.
* Add the ``--background`` command line option, allowing the setting of the
  background colors for the bp enabled sign, the bp disabled sign and the
  frame sign.
* Show the last two digits of the gdb breakpoint numbers in the source margin
  instead of ``bp``.

Changes
^^^^^^^

* The vim ``:Pyclewn`` command can be used directly without having first to
  run ``:runtime pyclewn.vim`` as was required previously (Sergey Khorev).
* ``Cyan`` is the default background color for enabled breakpoint signs,
  instead of ``Blue`` previously.

Bug fixes
^^^^^^^^^

* Fix the highlighting of a watched variable child is not reset when the value
  of the child object does not change, after stepping for example.
* Fix error messages scramble vim (not gvim) display.
* Fix when folding a watched variable and hitting continue, pyclewn raises
  the exception ``invalid token`` after producing the error message ``all cmds
  have not been processed in results``.
* Fix cannot fold a watched variable with gdb 7.1.
* Fix the ``:Pyclewn`` command does not work on Windows.

Pyclewn 1.3
-----------

.. August 8, 2010

New feature
^^^^^^^^^^^

* A new command named ``setfmtvar`` may be used to set the output format of a
  watched variable or one of its children, for example to ``hexadecimal`` or
  ``binary``.

Bug fixes
^^^^^^^^^

* Fix handling gdb ASYNC-RECORDs in gdb 7.2 when obtaining the set of
  available gdb commands and their completion.
* Fix pyclewn help is not available from within Vim, after installation on
  RedHat 6.
* The test suite fails with Python 2.7. The ``test`` package is meant for
  Python core developers only, so do not use it anymore and implement our own.
* Workaround to a RuntimeError Python bug when installing pyclewn with
  Python 2.7 (Matt McCormick).
* Fix incorrect output in console after the first netbeans session. The
  ``:Pyclewn`` command wipes out now both console and dbgvar buffers when they
  exist, before starting netbeans.

Pyclewn 1.2
-----------

.. March 6, 2010

New feature
^^^^^^^^^^^

* Pyclewn may be started from within Vim with the ``:Pyclewn`` Vim command
  after the ``pyclewn.vim`` script has been run. This requires that Vim
  allows starting netbeans with the ``:nbstart`` Vim command. The
  implementation of ``nbstart`` is available as a Mercurial Queue patch. See
  :ref:`vim-patches-label`.

Changes
^^^^^^^

* Extend the set of available key modifiers in key mappings, to all the key
  modifiers supported by Vim netbeans (Sergey Khorev).
* Allow commands in the initial buffer and on buffers loaded from the command
  line. This feature is enabled when the running Vim version is above 7.2.334
  (Vim 7.2 with patch 334).

Bug fix
^^^^^^^

* Fix the display of the gdb console window and the dbgvar window, after the
  gdb 'quit' command has been entered.

Pyclewn 1.1
-----------

.. January 2, 2010

New feature
^^^^^^^^^^^

* Support Vim running in a terminal. This requires netbeans support in Vim
  when running in a terminal. The implementation of netbeans in ``plain vim``
  (vim running in a terminal), is available as a Mercurial Queues patch for
  the official Vim release and for the latest development source tree.  See
  :ref:`vim-patches-label`.

Changes
^^^^^^^

* The console vim buffer and the watched variables buffer are set with
  'noswapfile' option.

Pyclewn 1.0
-----------

.. December 19, 2009

New features
^^^^^^^^^^^^

* Split the current Vim window and display the variables window after running
  the ``Cdbgvar`` command. This feature is enabled when the running Vim
  version is above 7.2.253 (Vim 7.2 with patch 253).


Changes
^^^^^^^

* Clean up the python debugger interface and use pydoc to document it.
* Replace the existing ``timer`` method with a flexible job scheduling.
* Replace the ``vimcmd`` environment variable with the ``EDITOR`` environment
  variable.
* Improve select emulation performance on linux by a factor of 2.
* Minimize Vim screen redraws when updating the debugger console window.
* The pyclewn sourceforge web site is now created with sphinx_ using
  reStructuredText_ markup.
* Switch from Subversion to Mercurial as pyclewn SCM (Source Code Management).

Bug fixes
^^^^^^^^^

* Recent Fedora Core distributions are missing the Python standard library
  ``test.regrtest`` module. Warn that the regression test suite cannot be run
  on these platforms and continue the installation.
* Fix quoted command line arguments are not properly parsed.
* Fix content of gdbmi results within quotes must be unquoted.
* Fix crash when running without a console after starting from the menu of a
  X11 window manager.
* Fix watched array elements are displayed in lexicographical order instead of
  numeric order.
* Fix gdb 7.0 causes exception on break.
* Fix regression test suite hangs on futex.

Pyclewn 0.7
-----------

.. April 18, 2009

Changes
^^^^^^^

* Pyclewn falls back to pipes when a pseudo tty cannot be setup with gdb.
* On Vim 7.2 and later Vim versions, the first pyclewn command on the initial
  ``[NoName]`` buffer is ignored and an error message is printed. Also, when
  the command is issued on a buffer loaded from Vim command line, the user is
  informed that the buffer is being registered to netbeans.
* On pyclewn installation, ``gvim`` can be replaced with the value of the
  environment variable ``vimcmd``, for the pathname of the program to be run
  when checking that the ``netbeans_intg`` feature has been compiled in Vim.

Bug fixes
^^^^^^^^^

* Fix cannot run two simultaneous pyclewn sessions on the same listening port.
* Fix ``Csigint`` help and warning message when running with pipes instead of a
  pseudo tty.
* Fix incorrect display after the Vim command bdelete or bwipeout on the clewn
  console.
* Fix ``Quit`` is printed on the gdb console after the output of the next
  command.

Pyclewn 0.6
-----------

.. August 16, 2008

Changes
^^^^^^^

* Pyclewn runs on the Windows platform.

Bug fixes
^^^^^^^^^

* Fix setting or clearing a breakpoint with clewn mapped keys when the
  breakpoint file pathname includes spaces.
* Fix an assertion error that occured on exit while pyclewn is busy processing
  gdb messages. A side effect of this fix is that the project file is not saved
  automatically on exit, if gdb is busy running a command at this time.

Pyclewn 0.5
-----------

.. June 6, 2008

New features
^^^^^^^^^^^^

* The new ``maxlines`` option sets a limit on the console buffer size.
* The new ``window`` option positions the console window on top, bottom, left
  or right side of the Vim window.
* The new ``project`` pyclewn command saves the current gdb settings to a
  project file that may be sourced later with the gdb ``source`` command.
  These settings are the working directory, the debuggee program file name, the
  program arguments and the breakpoints.
* A new parameter to the ``gdb`` command line option can be used to set the
  project file pathname. When set, the project file is automatically sourced on
  starting a gdb session, and the gdb settings are automatically saved to the
  project file on quitting gdb or vim.

Changes
^^^^^^^

* The vim implementation of the netbeans "remove" function is buggy, and has
  been fixed by patch 207 in vim 7.1. The workaround in pyclewn is to insert a
  ``\n`` before the line to delete, and to delete both lines in one shot. This
  workaround is not used when vim implements patch 207.
* Allow a gdb command on the initial [No name] vim window.
* Pyclewn can be started now without setting the environment variable
  PYTHONPATH which was required in the previous release when pyclewn is
  installed locally with the ``home scheme``.

Bug fixes
^^^^^^^^^

* Avoid having Vim segfaults when stepping very fast with gdb, by the correct
  handling of the cursor position when restoring the cursor after an update of
  the gdb console.
* Remove the gdb tui commands.
* The ``help`` command must list the pyclewn commands with the gdb commands
  only when used with no argument.
* Fix incorrect breakpoint highlighting after user aborts on the dialog warning
  him that the buffer is already opened by another Vim session.

Pyclewn 0.4
-----------

.. April 9, 2008

Bug fix
^^^^^^^

* Pyclewn exits with ``gdb CRITICAL this is not a gdb program`` when gdb writes
  an unexpected terminfo sequence on a subprocess pipe.

Pyclewn 0.3
-----------

.. March 22, 2008

Initial release.

.. _sphinx: http://sphinx.pocoo.org/
.. _reStructuredText: http://docutils.sf.net/rst.html
.. vim:filetype=rst:tw=78:ts=8:et:

